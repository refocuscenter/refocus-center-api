/purchases:
  post:
    tags:
      - "Purchase"
    description: Creates a new purchase record. The registration can be for a denied purchase (informational only) or for an approved account, consuming the balance according to the total amount informed, which takes into account the original amount and the fees associated with the transaction.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "#/definitions/purchase"    
    responses:
      200:
        $ref: "#/components/responses/200"
      400:
        description: Insufficient balance.
      404:  
        description: Account id not found.

definitions:
  purchase:
    properties:
      account_id:
        type: string
        format: uuid
      total_amount:
        type: 12.36
    example:
      account_id: "ab868d49-6c95-4cd2-80ac-dcc46bba336e"
      total_amount: 12.36